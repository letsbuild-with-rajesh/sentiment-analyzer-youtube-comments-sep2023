{% extends "base.html" %}
{% block head %}
<title>Recents</title>
{% endblock %}
{% block body %}
<div class="h-100 d-flex flex-column align-items-center gap-4">
	<a class="align-self-center" href="/">Back</a>
	<h2 class="text-decoration-underline">Recents</h2>
	<table class="table table-bordered w-75">
		<thead>
			<tr>
				<th class="bg-dark text-white text-center align-middle">Title</th>
				<th class="bg-dark text-white text-center align-middle">Sentiment</th>
				<th class="bg-dark text-white text-center align-middle">Score</th>
			</tr>
		</thead>
		<tbody>
			{% for video in videos %}
			{% set bg_color = "bg-warning" %}
			{% set emoji = "&#128527;" %}
			{% if video.sentiment == 'POSITIVE' %}
			{% set bg_color = "bg-success" %}
			{% set emoji = "&#128516;" %}
			{% elif video.sentiment == 'NEGATIVE' %}
			{% set bg_color = "bg-danger" %}
			{% set emoji = "&#128557;" %}
			{% endif %}
			<tr class="{{ bg_color }} text-white">
				<td class="align-middle">
					{{  video.title }}
				</td>
				<td class="text-nowrap text-center align-middle">
					{{  video.sentiment }} {{ emoji | safe }}
				</td>
				<td class="text-center align-middle">
					{{  video.score }}
				</td>
			</tr>
			{% endfor %}
		</tbody>
	</table>
</div>
{% endblock %}